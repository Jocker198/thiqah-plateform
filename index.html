<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>منصة ثقة - Thiqah Platform</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
<style>
:root {
  --primary-color: #FFD700;
  --secondary-color: #333;
  --bg-color: #000;
  --card-bg: #111;
  --text-color: #FFD700;
  --accent-color: #FFC300;
}
body { margin:0; font-family:'Cairo',sans-serif; background:var(--bg-color); color:var(--text-color); }
header { background: linear-gradient(135deg, #000, #111); padding:60px 20px; text-align:center; color:var(--primary-color); }
header h1 { font-size:48px; margin:0; letter-spacing:2px; text-shadow:2px 2px 5px #000; }
header p { font-size:20px; opacity:.9; }
.container { max-width:1200px; margin:auto; padding:30px; }
.section { background:var(--card-bg); padding:40px; border-radius:20px; margin-top:30px; box-shadow:0 10px 30px rgba(0,0,0,0.6); }
button { background:linear-gradient(145deg, #FFD700, #FFC300); color:#000; border:none; padding:15px 25px; border-radius:12px; cursor:pointer; font-weight:bold; font-size:18px; box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4); transition:.3s; }
button:hover { transform:translateY(-3px); box-shadow: 0 8px 25px rgba(255, 215, 0, 0.6); }
input, textarea { padding:14px; border-radius:10px; border:1px solid #555; font-size:16px; width:100%; background:#222; color:var(--primary-color); }
textarea { height:120px; resize:none; }
.success-message { display:none; padding:15px; background:#333; border:1px solid #FFD700; color:#FFD700; border-radius:10px; margin-top:12px; font-weight:bold; }
.card { margin-bottom:25px; padding:25px; border-radius:16px; background:#111; box-shadow:0 8px 25px rgba(255, 215, 0, 0.2); transition:.3s; }
.card:hover{ transform: translateY(-5px); box-shadow:0 12px 35px rgba(255, 215, 0,0.4); }
.review{border-bottom:1px solid #333;padding:12px 0;opacity:0; transform:translateY(20px); transition: all 0.4s ease;}
.review.show{opacity:1; transform:translateY(0);}
.stars span{font-size:26px; cursor:pointer; transition: transform .2s; color:var(--primary-color);}
.stars span:hover{transform:scale(1.3);}
footer{background:#111;color:var(--primary-color);text-align:center;padding:25px;margin-top:50px;}
a{color:var(--primary-color); text-decoration:none;}
#modalOverlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);z-index:1000;justify-content:center;align-items:center;}
#modalContent{background:#222;padding:30px;border-radius:16px;max-width:650px;width:90%;position:relative;color:var(--primary-color);box-shadow:0 10px 30px rgba(255,215,0,0.3);}
#modalClose{position:absolute;top:12px;right:18px;cursor:pointer;font-size:26px;}
</style>
</head>
<body>
<header>
<h1>منصة ثقة</h1>
<p>المرجع الأول للتحقق من المتاجر الإلكترونية في المغرب</p>
</header>
<div class="container">

<!-- الصفحة الرئيسية -->
<div id="home" class="section">
<h2>لماذا منصة ثقة؟</h2>
<p>لزيادة الثقة بين المتاجر والعملاء وحماية المستخدمين من الاحتيال، مع واجهة احترافية ومميزة تجعل تجربة المستخدم ممتعة وآمنة.</p>
</div>

<!-- تسجيل المتجر -->
<div id="register" class="section">
<h2>سجّل متجرك</h2>
<form id="storeForm">
<input type="text" id="store_name" placeholder="اسم المتجر" required>
<input type="text" id="owner_name" placeholder="اسم صاحب المتجر" required>
<input type="tel" id="phone" placeholder="رقم الهاتف" required>
<input type="url" id="store_link" placeholder="رابط المتجر (إن وجد)">
<textarea id="description" placeholder="وصف مختصر عن المتجر"></textarea>
<button type="submit">إرسال الطلب</button>
</form>
<div id="successBox" class="success-message">✔ تم تسجيل متجرك بنجاح!</div>
</div>

<!-- لوحة الإدارة -->
<div id="dashboard" class="section">
<h2>لوحة إدارة المتاجر</h2>
<div id="requests"></div>
</div>

<!-- عرض المتجر -->
<div id="shop-profile" class="section">
<h2 id="shopName">اختر متجرًا من لوحة الإدارة</h2>
<div id="shopDesc"></div>
<div>الهاتف: <span id="shopPhone"></span></div>
<div>الرابط: <a id="shopLink" href="#" target="_blank"></a></div>
<div class="stars" id="stars">
<span data-v="1">★</span><span data-v="2">★</span><span data-v="3">★</span><span data-v="4">★</span><span data-v="5">★</span>
</div>
<textarea id="reviewText" placeholder="أضف تعليقك"></textarea>
<button onclick="addReview()">إرسال التقييم</button>
<h3>التعليقات</h3>
<div id="reviews"></div>
</div>

<!-- قسم من نحن وطرق التواصل -->
<div id="about" class="section">
<h2>من نحن</h2>
<p>منصة ثقة تهدف إلى حماية المستخدمين المغاربة من الاحتيال على الإنترنت والتحقق من مصداقية المتاجر الإلكترونية.</p>
<h3>طرق التواصل معنا</h3>
<ul>
<li>البريد الإلكتروني: <a href="mailto:jocker.adam2021@gmail.com">jocker.adam2021@gmail.com</a></li>
<li>الهاتف: <a href="tel:+212698499814">0698499814</a></li>
<li>واتساب: <a href="https://wa.me/212698499814" target="_blank">راسلنا على واتساب</a></li>
</ul>
</div>

</div>
<footer>
<p>© 2025 منصة ثقة – جميع الحقوق محفوظة</p>
<p><a href="#privacy">سياسة الخصوصية</a> | <a href="#terms">شروط الاستخدام</a></p>
</footer>

<!-- Modals -->
<div id="modalOverlay">
  <div id="modalContent">
    <span id="modalClose">&times;</span>
    <div id="modalText"></div>
  </div>
</div>

<script>
// قاعدة البيانات
let shopsDB = JSON.parse(localStorage.getItem('shopsDB') || '[]');

// تسجيل متجر وإشعار تلقائي
const form = document.getElementById('storeForm');
const successBox = document.getElementById('successBox');
form.addEventListener('submit', function(e){
    e.preventDefault();
    const shop = {
        id: shopsDB.length+1,
        name: document.getElementById('store_name').value,
        owner: document.getElementById('owner_name').value,
        phone: document.getElementById('phone').value,
        link: document.getElementById('store_link').value,
        desc: document.getElementById('description').value
    };
    shopsDB.push(shop);
    localStorage.setItem('shopsDB', JSON.stringify(shopsDB));
    form.reset();
    successBox.style.display='block';
    renderDashboard();
    setTimeout(()=>{ successBox.style.display='none'; },3000);
    // إشعار WhatsApp تلقائي
    const phoneNotify = '212698499814';
    const message = encodeURIComponent(`تم تسجيل متجر جديد:\n${shop.name}\n${shop.owner}\n${shop.phone}\n${shop.link}`);
    window.open(`https://wa.me/${phoneNotify}?text=${message}`, '_blank');
});

// لوحة الإدارة
const container = document.getElementById('requests');
function renderDashboard(){
    container.innerHTML='';
    shopsDB.forEach(shop=>{
        const div = document.createElement('div');
        div.className='card';
        div.innerHTML = `<strong>${shop.name}</strong> (<a href='#' onclick='loadShop(${shop.id})'>عرض المتجر</a>)<br>صاحب المتجر: ${shop.owner}<br>هاتف: ${shop.phone}<br>رابط: <a href='${shop.link}' target='_blank'>${shop.link}</a>`;
        container.appendChild(div);
    });
}
renderDashboard();

// عرض المتجر
let selected = 0;
let reviews = [];
function loadShop(id){
    const shop = shopsDB.find(s=>s.id===id);
    if(!shop) return;
    document.getElementById('shopName').innerText = shop.name;
    document.getElementById('shopDesc').innerText = shop.desc;
    document.getElementById('shopPhone').innerText = shop.phone;
    document.getElementById('shopLink').innerText = shop.link;
    document.getElementById('shopLink').href = shop.link;
    reviews = JSON.parse(localStorage.getItem('reviews_' + id) || '[]');
    renderReviews();
}

// التقييم
document.querySelectorAll('#stars span').forEach(s=>{
  s.onclick = ()=>{
    selected = s.dataset.v;
    document.querySelectorAll('#stars span').forEach(x=>x.style.color = x.dataset.v <= selected ? 'gold' : 'var(--primary-color)');
  };
});
function addReview(){
    let text = document.getElementById('reviewText').value.trim();
    if(!text || selected==0) return;
    let newReview = {stars:selected, text};
    reviews.push(newReview);
    const shopId = shopsDB.findIndex(s=>s.name===document.getElementById('shopName').innerText) + 1;
    localStorage.setItem('reviews_' + shopId, JSON.stringify(reviews));
    document.getElementById('reviewText').value="";
    selected=0;
    document.querySelectorAll('#stars span').forEach(x=>x.style.color='var(--primary-color)');
    renderReviews(newReview);
}
function renderReviews(latest=null){
  const box = document.getElementById('reviews');
  box.innerHTML='';
  reviews.forEach(r=>{
    let div=document.createElement('div');
    div.className='review';
    div.innerHTML = `<strong>${'★'.repeat(r.stars)}</strong><br>${r.text}`;
    box.appendChild(div);
  });
  document.querySelectorAll('.review').forEach((el,i)=>{ setTimeout(()=>{el.classList.add('show');}, i*100); });
}

// Modals للخصوصية والشروط
const modalData = {
  privacy: `<h2>سياسة الخصوصية</h2><p>نحن لا نجمع أي بيانات شخصية بدون إذن المستخدم...</p>`,
  terms: `<h2>شروط الاستخدام</h2><p>منصة ثقة تقدم معلومات التحقق فقط...</p>`
};
document.querySelectorAll('footer a').forEach(a=>{
  a.onclick = function(e){
    e.preventDefault();
    const key = this.getAttribute('href').substring(1);
    document.getElementById('modalText').innerHTML = modalData[key];
    document.getElementById('modalOverlay').style.display = 'flex';
  };
});
document.getElementById('modalClose').onclick = function(){ document.getElementById('modalOverlay').style.display='none'; };
</script>
</body>
</html>
